# 21-stop-ui.yml
---
- name: Stop UI
  hosts: node-machines
  gather_facts: false
  become: true
  tasks:
    - name: Stop UI Container
      docker_container:
        name: "ui-{{ inventory_hostname }}"
        hostname: "ui-{{ inventory_hostname }}"
        image: "{{ docker_registry_url }}/{{ docker_image_ui }}:{{ docker_image_ui_version }}"
        state: stopped
      tags:
        - stop-ui
    - name: Remove UI Container
      docker_container:
        name: "ui-{{ inventory_hostname }}"
        hostname: "ui-{{ inventory_hostname }}"
        image: "{{ docker_registry_url }}/{{ docker_image_ui }}:{{ docker_image_ui_version }}"
        state: absent
      tags:
        - remove-ui
